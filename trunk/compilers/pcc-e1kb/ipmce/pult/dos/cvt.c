static unsigned char local1 [48] = {
        0341, 0342, 0367, 0347, 0344, 0345, 0366, 0372,	/* абвгдежз */
	0351, 0352, 0353, 0354, 0355, 0356, 0357, 0360, /* ийклмноп */
	0362, 0363, 0364, 0365, 0346, 0350, 0343, 0376, /* рстуфхцч */
	0373, 0375, 0277, 0371, 0370, 0374, 0340, 0361, /* шщъыьэюя */
        0301, 0302, 0327, 0307, 0304, 0305, 0326, 0332,	/* абвгдежз */
	0311, 0312, 0313, 0314, 0315, 0316, 0317, 0320, /* ийклмноп */
};

static unsigned char local2 [16] = {
	0322, 0323, 0324, 0325, 0306, 0310, 0303, 0336, /* рстуфхцч */
	0333, 0335, 0337, 0331, 0330, 0334, 0300, 0321, /* шщъыьэюя */
};

static unsigned char local [64] = {
	0356,	0240,	0241,	0346,	0244,	0245,	0344,	0243,
	0345,	0250,	0251,	0252,	0253,	0254,	0255,	0256,
	0257,	0357,	0340,	0341,	0342,	0343,	0246,	0242,
	0354,	0353,	0247,	0350,	0355,	0351,	0347,	0352,
	0236,	0200,	0201,	0226,	0204,	0205,	0224,	0203,
	0225,	0210,	0211,	0212,	0213,	0214,	0215,	0216,
	0217,	0237,	0220,	0221,	0222,	0223,	0206,	0202,
	0234,	0233,	0207,	0230,	0235,	0231,	0227,
};

ecodtokoi (c)
register c;
{
	c &= 0377;
	if (c < 0200 | c == 0377)
		;
	else if (c >= 0360)
		c -= 0100;
	else if (c >= 0340)
		c = local2 [c - 0340];
	else if (c >= 0260)
		c -= 060;
	else if (c >= 0200)
		c = local1 [c - 0200];
	return (c);
}

koitoecod (c)
register c;
{
	c &= 0377;
	if (c < 0200 || c == 0377)
		;
	else if (c >= 0300)
		c = local [c - 0300];
	else if (c >= 0260)
		c += 0100;
	else if (c >= 0200)
		c += 060;
	return (c);
}
