ПОЛУЧЕНИЕ И РАССЫЛКА СТАТЕЙ ТЕЛЕКОНФЕРЕНЦИЙ USENET и Relcom ПО ПОЧТЕ

Этот автоматический сервер пересылает статьи из
телеконференций USENET и Relcom при помощи обычной электронной почты.
Для общения с сервером конференций следует послать сообщение-запрос
по адресу $$. Текст сообщения состоит из
команд серверу. Тему указывать необязательно.

Краткое описание команд:

HELP                    Выдать краткую инструкцию по пользованию
			сервером (этот файл).  Последующий текст
			письма не обрабатывается.

LIST                    Выдать список всех телеконференций с их кратким
			описанием (если такое есть).

LIST иерархия           Выдать список конференций в иерархии. Например,
			"list relcom".

SUBSCRIBE конференция   Подписаться на конференцию в режиме уведомления.
			Вам будут регулярно высылаться новых списки статей
			в виде:

			    GROUP relcom.netnews
			    -ART 100 объем автор тема

			Чтобы заказать интересующие Вас статьи, удалите
			символ '-' перед командой ART и отошлите список
			обратно на сервер.  Не удаляйте команды GROUP!
			Все, кроме номера статьи (т.е. поля объем, автор,
			тема), можно тоже удалить.

FEED конференция        Подписаться на конференцию в режиме рассылки.
			Все статьи из этой конференции будут сразу высылаться
			в ваш адрес.

		    ПРЕДУПРЕЖДЕНИЕ:
			Никогда не используйте режим feed, если Вы не уверены
			абсолютно в том, что Вам нужны *все* статьи и что связь
			с Вашей машиной устойчива и постоянна. Этот режим легко
			может привести к "затору" в сети и сделать невозможным
			отправление или получение писем на Вашей машине.
			Злоупотребление этим режимом может привести к тому, что
			администратор сети будет вынужден отключить Вашу машину,
			так что будьте осторожны.

RFEED размер конференция Подписаться на конференцию  в режиме
			ограниченной рассылки.

			Все статьи меньше указанной длины (в килобайтах) будут
			высылаться Вам как по команде FEED.  Сообщения
			о больших статьях будут приходить в режиме SUBSCRIBE.

UNSUBSCRIBE конференция Отменить подписку на конференцию.

UNSUBSCRIBE all         Отменить подписку на все конференции.

FORGET                  Если Вы были подписаны на какие-либо
			телеконференции и впоследствии отменили подписку,
			сервер все еще продолжает помнить Вас
			и присылать Вам сообщения о появлении новых
			и удалении старых телеконференций в надежде,
			что Вас что-нибудь заинтересует.
			Чтобы окончательно отключиться от сервера,
			нужно дать команду FORGET.

CHECK                   Выдать список конференций, на которые Вы подписаны,
			с указанием режима.

GROUP конференция       Перейти в указанную конференцию.  Эта конференция
			становится "текущей" (для комад ARTICLE, INDEX, LINDEX).

ARTICLE номер           Выслать указанную статью.

ARTICLE <идентификатор> Выслать статью с заданным идентификатором (message-id).
			Идентификатор - это уникальный номер статьи в системе
			телеконференций.
			Отвечая на какую-либо статью, принято указывать
			идентификатор оригинала, чтобы все заинтересованные
			могли заказать и прочитать его.

INDEX [номер [номер]]   Выдать список статей текущей конференции.
			Формат выдачи такой же, что и в списках статей
			режима уведомления.  Аргументы задают
			диапазон номеров статей, при этом отрицательное число
			означает '-номер_от_конца'. Например:

			   INDEX -20      - последние 20 статей
			   INDEX 700 750  - статьи с номерами 700...750

LINDEX [номер [номер]]  Выдать подробный список статей.  Формат выдачи
			следующий:

			    Issue: <номер статьи>
			    Subject: <тема>
			    From: <автор>
			    Date: <дата и время написания>
			    Message-ID: <идентификатор>
			    Size: <размер в байтах>

PACK                    Установить режим упаковки.
			Впредь все статьи, высылаемые в Ваш адрес,
			будут собираться в пакеты, и упаковываться.
			Это уменьшает общий объем рассылки, а также
			количество писем, увеличивает средний размер писем
			и позволяет существенно увеличить эффективную скорость
			передачи.  Настоятельно рекомендуется пользоваться
			этим режимом.
			Приходящие от сервера пакеты нужно распаковывать
			специальной утилитой UNBATCH.  При работе в MSDOS
			ее можно вызывать в командном файле UUPC.BAT
			после UUXQT.
			Получить программу UNBATCH (с текстами) для MSDOS
			можно командой

			    SEND uunpack-dos

			или для Unix 386

			    SEND unbatch-386

			или для Xenix 286

			    SEND unbatch-286

			Тексты программы распаковки можно получить
			командами

			    SEND uunpack-src
			и
			    SEND unbatch-src

PACK OFF                Выключить режим упаковки.

SEND                    Выдать список файлов общего назначения.
			Их можно заказать командой SEND с параметром.

SEND имя                Выслать файл.  В настоящий момент имеются
			следующие файлы:

			    unbatch-dos  29k  программа UNBATCH для MSDOS
			    unbatch-386  42k  программа UNBATCH для Unix 386
			    unbatch-286  38k  программа UNBATCH для Xenix 286
			    unbatch-src  20k  тексты программы UNBATCH
			    uunpack-dos  23k  программа UUNPACK для MSDOS
			    uunpack-286  29k  программа UUNPACK для Xenix 286
			    uunpack-src  8k   тексты программы UUNPACK

GSTAT [иерархия]        Выдать информацию о подписке на телеконференции.
			Для каждой телеконференции выдается: название,
			количество статей в телеконференции на настоящий момент
			(приблизительное), и количество подписчиков
			режимов SUBSCRIBE, FEED и RFEED.

USTAT [имя]             Выдать информацию о подписке для пользователей.
			Имя пользователя может быть регулярным выражением
			(в стиле SH). Например, команда "ustat alex@*"
			выдаст информацию обо всех пользователях с именем
			alex.  Для каждого пользователя выдается:
			имя, общее количество читаемых телеконференций,
			и количество телеконференций в режимах SUBSCRIBE,
			FEED и RFEED.

TIME                    Выдать текущую дату и время.  Обычно применяется
			для анализа времени выполнения отдельных команд
			сервера.

AGING  OFF              Выключить режим старения подписки. В этом режиме
			если пользователь ничего не шлет серверу в
			течение некоторого количества дней (по умолчанию
			28), сервер автоматически отписывается он него.
			По умолчанию режим ВКЛЮЧЕН.

AGING                   Включить режим старения подписки, если он
			был ранее выключен.

QUIT                    Конец задания для сервера.


ПРЕДУПРЕЖДЕНИЕ
	Не пытайтесь подписаться сразу на целую кучу разных конференций -
	скорее всего, Вы просто недооцениваете количество сообщений
	в USENET и Relcom!

ЕЩЕ ОДНО ПРЕДУПРЕЖДЕНИЕ: не используйте имена пользователей news
	или uucp - сервер не посылает ответов на эти имена.

Для того, чтобы поcлать сообщение в телеконференцию, Вам нужно послать
по адресу $$ сообщение, содержащее в заголовке
поле "Newsgroups:" с названием этой конференции или со списком названий
конференций, разделенных запятой (естественно, все конференции должны
существовать).

По умолчанию сообщение будет разослано по всему миру, так что подумайте
дважды, прежде чем послать что-нибудь. Помните, что это сообщение будет
прочитано тысячами или миллионами читателей во все мире, поэтому
Ваше сообщение не должно быть оскорбительным и не должно нарушать
чьи-либо авторские права. Никогда не пишите то, что уже написано кем-либо
другим. Если есть возможность, ограничивайте область распространеня
сообщений до как можно более маленькой. Это можно сделать при помощи
поля "Distribution:" в заголовке Вашего сообщения. Допустимые области
распространения:

	world, eunet, su, russia, moscow

В любом случае, будет гораздо лучше, если до того, как посылать сообщения
в телеконференцию, вы ознакомитесь с действующими правилами и ее тематикой.
Это можно сделать, прочитав составляемые Е. Пескиным ЧаВО. Они регулярно
публикуются в конференции relcom.netnews, многие узлы включают их в
состав документации.

Пример посылки сообщения в группу relcom.test:
	% mailx $$
	Subject: проверка связи
	~: headline Newsgroups relcom.test
	(продолжайте)
	~: headline Distribution su
	(продолжайте)
		Варкалось, хливкие шорьки...
	.
	КОНЕЦ ПЕРЕДАЧИ
	%

Узнать, как добавляют поля к заголовку сообщения, Вы можете из
описания Вашей почтовой системы (документ "Система управления
электронной почтой mailx" входит в состав документации по
RELCOM).

Наиболее употребительные поля заголовка сообщений:

 Newsgroups: список_групп_через_запятую

Поле обязательно. BML формирует его автоматически.

 Subject: Тема_сообщения

Поле обязательно и не должно быть пустым. В русском меню BML оно называется
'Тема' и заполнить его предлагается автоматически.

 Keywords: Ключевые слова

Поле не используется большиством читалок.

 Expire: Дата_хранения

Статья будет храниться _точно_ до указанной даты, если это не
противоречит настройкам системы (иначе в соответствии с указанными на
серверах границами сроков хранения),

 Supercedes: <Message-Id>

Статья _заменяет_ статью с указанным Message-Id (если такой нет, то
просто помещается как обычно).

 Date: Дата

Поле обязательно и формируется обычно автоматически. Однако, если
дата на машине установлена неверно, статья может вообще не приниматься
сервером (например, она оказывается просроченной уже на момент прихода
в систему, или дата показывает в будущее время).

=========================================================================

Все вопросы по работе сервера посылайте по адресу usenet@kiae.su.
Сообщения об ошибках и предложения по доработке сервера просьба
посылать Сергею Вакуленко по адресу vak@kiae.su.


ПРИЛОЖЕНИЕ ---------------------------------------------

Что дает новый сервер конференций
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1) Возможность подписки в пакетном режиме.  Команда PACK
устанавливает для пользователя режим пакетной рассылки. В этом режиме
высылаемые статьи собираются в пакеты размером около 20К и
упаковываются (compress -b12) с преобразованием в текстовый вид
некий аналог btoa).  Это позволяет, во-первых, на 10-30% уменьшить
общий объем статей (а также траффик и деньги пользователей),
во-вторых, увеличить средний размер письма (и эффективную скорость
передачи UUPC), в третьих, уменьшить количество сообщений на
узле (и загрузку узла).

2) Отсутствие дублирования статей в случае посылки статей
в несколько конференций (кросс-постинг).

3) Возможность получить список имеющихся в конференции статей.
Команда INDEX высылает список статей в формате, аналогичном режиму
NOTIFY.

4) Возможность заказа статей по Message-ID.  Команда ARTICLE
в качестве параметра может принимать message-id в угловых скобках.

5) Возможность ограниченной подписки.  Командой RFEED пожно подписаться
на конференцию с указанием максимального размера статьи.  Все статьи
меньшего размера будут высылаться по FEED, меньшего - по NOTIFY.
На самом деле команда FEED выполняется как RFEED 100 .

6) Русскоязычная диагностика.

Как подписаться на новый сервер
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Нужно послать примерно следующее письмо:

    % mail $$
    Subject: неважно
    feed relcom.postmasters
    subs relcom.netnews relcom.talk
    help


Как включить режим упакованной рассылки
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Сначала Вам необходимо получить программу, производящую
распаковку полученный статей.

Если у вас новый UUPC (старше 4-й версии), или новый BML, или
DMAIL, они распаковывают статьи автоматически, если вызываются
с опцией -p (bmail.bat именно так и вызывает BML).

Если Вы работаете в MSDOS, у Вас есть две возможности:

1) Получить BML версии 1.27.  Он умеет делать распаковку
в процессе чтения почтового ящика.  Для этого нужно вызывать
BML с флагом -p.  Проще всего добавить этот флаг к вызову
BML в файле BML.BAT.
BML 1.27 можно получить по почте:

    % mail mailserv@kiae.su
    Subject: неважно
    get msdos/uupc/uupc5.00/bmlsfx.exe
    quit

2) Получить программу распаковки ящика UUNPACK.ZIP:

    % mail $$
    Subject: неважно
    send uunpack-dos

Вам придет два файла:
    UUNPACK.EXE - выполняемая программа
    UUNPACK.C   - ее тексты

Нужно переписать UUNPACK.EXE в каталог, например, C:\UUPC и
в файл вызова UUPC.BAT последней строкой добавить:

    c:\uupc\uunpack c:\uupc\mail\boxes\user
				 здесь ^^^^ - имя пользователя,
				 получающего новости

Если на Вашей машине несколько пользователей получают упакованные
новости, нужно добавить несколько строчек вызова UUNPACK с соответствующим
параметром.

Если Вы работаете в Unix, нужно получить от сервера программу UNBATCH
для распаковки ящика, и вызывать ее перед чтением почты.

Для Unix 386:

    % mail $$
    Subject: неважно
    send unbatch-386

Для Xenix 286:

    % mail $$
    Subject: неважно
    send unbatch-286
