Краткий список отличий версии 2.7 от версии 2.5.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
by <alex@kiae.su>

1) Исправлено несколько ошибок в работе с файлом изменений
   базы данных, из за которых записи об удалении групп или записи
   с пустыми списками подписки иногда блокировали чтение этого
   файла (при перезапуске сервера).

2) Введено старение подписки. Оно задается переменной timeoflife
   в config файле (28 по умолчанию). Для выключения старения используется
   команда AGING off, а запретить старение для всего сервера можно, установив
   timeoflife равной 0.

3) Формат выдачи команды CHECK изменен таким образом, чтобы после небольшого
   редактирования выдачу можно было использовать для восстановления
   всей подписки.

4) Команда LIST без параметров дает теперь только краткую табличку с
   именами всех групп, без ее сортировки и описания. Для более точной
   информации надо давать команду LIST с именем иерархии (например,
   LIST relcom). Вообще то эту команду надо будет срочно переделать.

5) Введен файл groups_list, который задает список разрешенных для
   данного сервера групп аналогично такому же файлу users для
   пользователей. При этом можно задавать разрешения как на группы,
   так и на пары группа/пользователь (например, разрешив подписку на relcom.*
   только пользователям домена .su .

6) У команды notify появился ключик '-n', который отключает
   проверку старения подписки в данном вызове.

7) Теперь поле Resent-From: имеет приоритет меньше, чем From:,
   что позволяет делать 'forward' серверу, не опасаясь получить
   ответы (которые адресуются по идее автору статьи) на себя...

8) При помещении статей в систему в статью пишется заголовок
       X-Return-Path:
   содержащий копию поля From_ из пришедшего письма, что позволяет
   определить истинный адрес автора, пославшего статью.

9) При посылке статьи заголовок Xref переделывается в X-Ref: и
   также помещается в письмо. Это сделано по многочисленным просьбам
   авторов автоматических серверов.

10) При посылке батчей добавлено поле Data, которое раньше не формировалось.

11) В список полей, которые пропускаются в статью при ее помещении в
   систему, добавлено поле Supersedes: (Заменяет: ).

12) Развязаны блокировки newnews и notify (добавлена блокировка
на время обновления списка статей), и они теперь могут работать
одновременно.

13) Убраны лишние обращения к таблице подписки из newnews.

14) Добавлена выдача даты в ответы сервера (она была не везде).

15) Сообщения в 'log' файле разделены на информационные и
сообщения об ошибках, последние начинаются с слова +ERR+ .

16) Введен сброс файла изменений по времени - если при
очередной записи в базе оказывается, что файл изменений
не сбрасывался более часа - производится сброс (и перезапись
базы).

17) Введен файл lclasses для управления классами (именами Sender-а)
при посылке списков статей (аналогично тому, как classes определяет
имена при посылке самих статей). Эти списки разнесены, так как
иначе непонятно, почему списки платных информационных сообщений
должны стоить столько же, сколько и сами сообщения.

18) Команда 'UNSUBSCRIBE all' теперь работает точно как 'FORGET',
иначе это вызывало недоразумения и множество 'спящих' подписчиков,
которые давно уже дали 'UNSUBSCRIBE all', но никогда не давали
FORGET...

19) Исправлена ошибка (застарелая) в send.c, из за которой
server падал в core, если посылаемая статья имела между
заголовком и телом статьи строку из одного пробела.

20) Формат Newsgroup: упрощен - список групп можно писать
как через запятую, так и через пробел.

============= В этом месте зафиксирована версия 2.7.1 =======================

21) Исправлено уведомление о создании новых групп.

22) Исправлен алгоритм проверки файлов users и groups_list.

============== 2.7.1 генерация # 3 =========================================
